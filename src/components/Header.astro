<style>
  .header::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 150%;
    backdrop-filter: blur(20px);
    mask-image: linear-gradient(
      to bottom,
      rgba(0, 0, 0, 1),
      rgba(0, 0, 0, 0.4)
    );
    -webkit-mask-image: linear-gradient(to bottom, black, transparent);
    pointer-events: none;
    z-index: -1;
  }

  .link {
    padding: 8px 20px;
    border-radius: 8px;
    font-weight: 500;
    display:flex;
    flex-direction: row;
    align-items: center;
    gap: 8px;
  }

  .link svg {
    width: 20px;
    height: 20px;
  }
  
  .link:hover {
    background-color: #6363633e;
    font-weight: 700;
  }
</style>

<header
  class="top-0 header w-screen h-20 bg-opacity-50 px-2 sm:px-10 flex flex-row gap-6 items-center justify-between z-50 fixed"
>
  <a href="/" class="flex flex-row items-center gap-3">
    <img src="/img/logo-isotype.png" id="isotype" class="w-14 h-14 transition-all">
    <img src="/img/logo-wordmark.png" id="wordmark" class="h-6 transition-all">
  </a>
  <nav class="hidden sm:flex justify-between">
    <a
      onmouseover="followMouse('/')"
      onmouseleave="removeMov('/')"
      href="/"
      class="link text-white transition-all"><svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"> <path d="M14 2h-4v2H8v2H6v2H4v2H2v2h2v10h7v-6h2v6h7V12h2v-2h-2V8h-2V6h-2V4h-2V2zm0 2v2h2v2h2v2h2v2h-2v8h-3v-6H9v6H6v-8H4v-2h2V8h2V6h2V4h4z" fill="currentColor"/> </svg> Home</a
    >
    <a
      onmouseover="followMouse('/#about')"
      onmouseleave="removeMov('/#about')"
      href="/#about"
      class="link text-white transition-all"><svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"> <path d="M3 3h2v18H3V3zm16 0H5v2h14v14H5v2h16V3h-2zm-8 6h2V7h-2v2zm2 8h-2v-6h2v6z" fill="currentColor"/> </svg> About</a
    >
    <a
      onmouseover="followMouse('/team')"
      onmouseleave="removeMov('/team')"
      href="/team"
      class="link text-white transition-all"><svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"> <path d="M11 0H5v2H3v6h2v2h6V8H5V2h6V0zm0 2h2v6h-2V2zM0 14h2v4h12v2H0v-6zm2 0h12v-2H2v2zm14 0h-2v6h2v-6zM15 0h4v2h-4V0zm4 8h-4v2h4V8zm0-6h2v6h-2V2zm5 12h-2v4h-4v2h6v-6zm-6-2h4v2h-4v-2z" fill="currentColor"/> </svg> Team</a
    >
    <a
      onmouseover="followMouse('/work')"
      onmouseleave="removeMov('/work')"
      href="/work"
      class="link text-white transition-all"><svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"> <path d="M7 0h16v20H5V0h2zm14 18V2H7v16h14zM9 4h10v2H9V4zm10 4H9v2h10V8zM9 12h7v2H9v-2zm10 10H3V4H1v20h18v-2z" fill="currentColor"/> </svg> News</a
    >
    <a
      onmouseover="followMouse('/#contact')"
      onmouseleave="removeMov('/#contact')"
      href="/#contact"
      class="link text-white transition-all"><svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"> <path d="M20 2H2v20h2V4h16v12H6v2H4v2h2v-2h16V2h-2z" fill="currentColor"/> </svg> Contact</a
    >
  </nav>
</header>

<script is:inline>
  function followMouse(element) {
    const el = document.querySelector(`a[href="${element}"]`);
    let firstTransformApplied = false;

    el.addEventListener("mousemove", (e) => {
      const moveX = (e.clientX - el.getBoundingClientRect().left) / 10;
      const moveY = (e.clientY - el.getBoundingClientRect().top) / 10;
      el.style.transform = `translate(${moveX}px, ${moveY}px)`;

      if (!firstTransformApplied) {
        setTimeout(() => {
          el.style.transition = "none";
        }, 200);
        firstTransformApplied = true;
      }
    });
  }

  function removeMov(element) {
    const el = document.querySelector(`a[href="${element}"]`);
    el.style.transition = "0.2s";
    el.style.transform = `translate(0px, 0px)`;
    firstTransformApplied = false;
    console.log("removed");
  }

  document.addEventListener("scroll", () => {
    const isotype = document.getElementById("isotype");
    const wordmark = document.getElementById("wordmark");
    if (window.scrollY > 0) {
      isotype.style.transform = "translate(-60px, 0)";
      wordmark.style.transform = "translate(-60px, 0)";
      isotype.style.opacity = "0";
    } else {
      isotype.style.transform = "translate(0, 0)";
      wordmark.style.transform = "translate(0, 0)";
      isotype.style.opacity = "1";
    }
  });
</script>
